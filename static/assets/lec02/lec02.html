---
title: "Introduction to Reproducible Research and CLI"
short-title: "Intro RR & CLI"
author: "James Balamuta"
short-author: "J Balamuta"
date: #June 13, 2017'      # Month DD, YYYY (Main Slide)
institute: "University of Illinois at Urbana-Champaign"
short-institute: "UIUC"
department: "Department of Informatics, Statistics"                # Institute must be defined
license: "CC BY-NC-SA 4.0, 2016 - 2017, James J Balamuta"
section-titles: true                             # Provides slide headings
safe-columns: true                               # Enables special latex macros for columns.
output: 
   uiucthemes::beamer_illinois
---



<div id="on-the-agenda" class="section level3">
<h3>On the Agenda</h3>

</div>
<div id="section" class="section level3">
<h3></h3>

</div>
<div id="reproducible-research" class="section level1">
<h1>Reproducible Research</h1>
<div id="definition" class="section level2">
<h2>Definition</h2>
<div id="what-is-reproducible-research" class="section level3">
<h3>What is Reproducible Research?</h3>
<p><strong>Reproducible research</strong> or creating a <strong>reproducible analysis</strong> is the idea that the experiment’s collected data, data analysis code, and derived principal results are assembled in a way so that another body is able to re-create all of the results (e.g., data formatting, parameter estimates, figures, tables, and so on).</p>
<p>In essence, reproducible research seeks to satisfy a very minimal portion of how to obtain <em>replicable</em> results typically used to promote scientific theories.</p>
</div>
<div id="reproducible-vs.replicable" class="section level3">
<h3>Reproducible vs. Replicable</h3>
<p>In general, there are <a href="http://cogprints.org/7691/7/ICMLws09.pdf">lots</a> of <a href="http://magazine.amstat.org/blog/2011/07/01/trust-your-science/">papers</a> that debate what the definitions of Reproducible and Replicable are.</p>
<p>For our purpose, we will consider the viewpoint of <a href="http://www.sciencemag.org/content/334/6060/1226.full">Prof. Roger Peng of the Journal of Biostatistics</a> - held as the <a href="http://biostatistics.oxfordjournals.org/content/10/3/405.full">Journal’s standard</a> - and <a href="http://bioinformatics.mdanderson.org/Supplements/ReproRsch-All/Modified/ENAR/banksNotes.pdf">echoed by Prof. David Banks</a>, former editor of the prestigious Journal of the American Statistical Association (JASA).</p>

</div>
</div>
<div id="being-a-practitioner" class="section level2">
<h2>Being a Practitioner</h2>
<div id="importance-of-reproducible-research" class="section level3">
<h3>Importance of Reproducible Research</h3>
<p>Many issues have arisen over the recent years regarding reproducibility…</p>
<ul>
<li><a href="http://www.nature.com/news/1-500-scientists-lift-the-lid-on-reproducibility-1.19970">Nature: 1,500 scientists lift the lid on reproducibility</a>:
<ul>
<li>“More than 70% of researchers have tried and failed to reproduce another scientist’s experiments, and more than half have failed to reproduce their own experiments.”</li>
</ul></li>
<li><a href="http://jamanetwork.com/journals/jama/fullarticle/201218">JAMA: Contradicted and Initially Stronger Effects in Highly Cited Clinical Research</a>
<ul>
<li>“Of 49 highly cited original clinical research studies, 45 claimed that the intervention was effective. Of these, 7 (16%) were contradicted by subsequent studies, 7 others (16%) had found effects that were stronger than those of subsequent studies, 20 (44%) were replicated, and 11 (24%) remained largely unchallenged.</li>
</ul></li>
<li><a href="http://www.nature.com/news/over-half-of-psychology-studies-fail-reproducibility-test-1.18248">Nature: Over half of psychology studies fail reproducibility test</a>
<ul>
<li>“Whereas 97% of the original studies found a significant effect, only 36% of replication studies found significant results.”</li>
</ul></li>
<li><a href="http://retractionwatch.com/">RetractionWatch: Tracking retractions</a></li>
</ul>
</div>
<div id="lies-damned-lies-and-statistics" class="section level3">
<h3>Lies, Damned Lies and Statistics</h3>
<p>In the book, <a href="https://www.amazon.com/How-Lie-Statistics-Darrell-Huff/dp/0393310728"><em>How to Lie with Statistics</em></a> by Darrell Huff, a notable issue that is emphasized is the ease with which an incorrect intepretation can easily lead to an inappropriate conclusion that is <strong>published</strong>.</p>
<p><img src="/assets/lec02/lec02_files/figure-html/lie_with_stats-1.png" width="8cm" style="display: block; margin: auto;" /></p>
</div>
<div id="real-life-example-excel-breaking-an-analysis" class="section level3">
<h3>Real Life Example: Excel Breaking an Analysis</h3>
<div class="figure">
<img src="img/colbert_report.PNG" alt="Austerity’s Spreadsheet Error - Caught by Thomas Herndon" />
<p class="caption"><a href="http://www.cc.com/video-clips/kbgnf0/the-colbert-report-austerity-s-spreadsheet-error---thomas-herndon">Austerity’s Spreadsheet Error - Caught by Thomas Herndon</a></p>
</div>
<div id="paper-credit" class="section level4">
<h4>Paper Credit</h4>
<p><a href="https://www.peri.umass.edu/publication/item/526-does-high-public-debt-consistently-stifle-economic-growth-a-critique-of-reinhart-and-rogo-ff">Does High Public Debt Consistently Stifle Economic Growth? A Critique of Reinhart and Rogoff</a></p>
<p>by: Thomas Herndon, Michael Ash, Robert Pollin</p>
</div>
</div>
<div id="why-practice-reproducible-research" class="section level3">
<h3>Why Practice Reproducible Research?</h3>
<p>By structuring research or an analysis so that it is reproducible, not only is the work more useful but also the overload on the practitioner is reduced.</p>
<p>The overload is reduced since the hope of reproducible research is to put an end to the practice of copying and pasting results into documents, asymmetric data modifications in excel, and undocumented code.</p>
<p>As they say…</p>
<p>If you do something  once, you’ll end up doing it at least 20 times.</p>
</div>
</div>
<div id="workflow" class="section level2">
<h2>Workflow</h2>
<div id="types-of-workflow" class="section level3">
<h3>Types of Workflow</h3>
<p>There are two ways to interact with a computer:</p>
<ul>
<li><strong>Command Line Interface (CLI):</strong> Text-based commands issued by a keyboard that receive text-based responses from the computer.</li>
<li><strong>Graphical User Interface (GUI):</strong> Point-and-click command that elicits a visual response which changes the program’s state.</li>
</ul>
<p>What interface do <em>you</em> think is the preferred way to structure a <em>reproducible</em> project?</p>
</div>
<div id="sample-point-and-click-map-with-overlay" class="section level3">
<h3>Sample Point and Click Map with Overlay</h3>
<p><img src="img/interfaces/ps_4hours_overlay.jpg" /><!-- --></p>
<p>Source <a href="http://iographica.com/">IOGraphica: 4 hours of Mouse Movements in Photoshop</a></p>
</div>
<div id="sample-cli-history" class="section level3">
<h3>Sample CLI History</h3>
<pre class="bash"><code>Last login: Tues Jun 13 13:31:45 on ttys003
wirelessprv-10-193-53-59:~ agentxyz$ history
    1  pwd
    2  ssh balamut2@cc-login.campuscluster.illinois.edu
    3  cp -R ~/stat385/su16/lec17 ~/stat385/su17/lec2/
    4  ls
    5  mkdir hellostat385
    6  cd hellostat385/
    7  git init</code></pre>
</div>
<div id="ideal-work-flow" class="section level3">
<h3>Ideal Work Flow</h3>
<embed src="img/tikz/workflow.pdf" width="12cm" style="display: block; margin: auto;" type="application/pdf" />
<p>Only raw data exists outside of the ecosystem.</p>
<p>All blue boxes are done with a script to ensure reproducibility.</p>
</div>
<div id="the-power-of-scripts" class="section level3">
<h3>The Power of Scripts</h3>
<embed src="img/tikz/focused-workflow.pdf" width="11cm" style="display: block; margin: auto;" type="application/pdf" />

</div>
<div id="the-best-reason-to-practice-reproducible-research" class="section level3">
<h3>The Best Reason to Practice Reproducible Research…</h3>
<div id="section-1" class="section level4">
<h4></h4>
<p>James,</p>
<p>Hope all is well. Prof. <em>Toad</em> accidently sent us the wrong data set. Please see the forwarded e-mail and redo the analysis using the new data set. If possible, could we discuss the results on Wednesday?</p>
<p>Thanks,</p>
<p>Steven</p>
</div>
</div>
</div>
</div>
<div id="tools-of-reproducible-research" class="section level1">
<h1>Tools of Reproducible Research</h1>
<div id="overview" class="section level2">
<h2>Overview</h2>
<div id="software-of-reproducible-research" class="section level3">
<h3>Software of Reproducible Research</h3>
<p>The following software programs are key to Reproducible Research:</p>
<ul>
<li>Command Line Interfaces (CLI)
<ul>
<li>Windows: <a href="https://www.cygwin.com/">Cygwin</a>, <a href="https://msdn.microsoft.com/en-us/commandline/wsl/install_guide">Bash on Ubuntu on Windows (Requires Win10)</a>, or use the shell that is included with <a href="http://git-scm.com/downloads">Git Bash</a></li>
<li>macOS: Built in Terminal or <a href="https://www.iterm2.com/">iTerm2</a></li>
<li>Linux: Built in Shell, <a href="https://gnometerminator.blogspot.com/p/introduction.html">Terminator</a>, or <a href="https://github.com/lanoxx/tilda">Tilda</a></li>
</ul></li>
<li>Version Control System (VCS): <a href="http://git-scm.com/downloads">git</a></li>
<li>Programming Language: <a href="http://cran.r-project.org/">R</a>, <a href="https://www.python.org/">Python</a>, etc.</li>
<li>Swiss Army Knife of Document Conversion: <a href="https://github.com/jgm/pandoc/releases">pandoc</a></li>
</ul>
<p>Optional:</p>
<ul>
<li><a href="http://latex-project.org/ftp.html">LaTeX</a>: Your Favoriate Distribution of  if you wish to compile PDFs</li>
</ul>
</div>
</div>
<div id="editors" class="section level2">
<h2>Editors</h2>
<div id="code-editors" class="section level3">
<h3>Code Editors</h3>
<p>The previously listed suite of software programs left out <em>editors</em>.</p>
<p><strong>Editors</strong> are applications that can be used to view, write, or modify code.</p>
<p><em>Nowadays</em>, editors are far more power with features such as:</p>
<ul>
<li>Code syntax highlighting for functions and variable types;</li>
<li>Fuzzy Autocompletion of function names and file paths;</li>
<li>Context-specific autocompletion of variable names;</li>
<li>Code diagnostics indicating potential line errors, styling issues;</li>
<li>Source code search across multiple files within a project;</li>
<li>Automatic line indentation and closure of parentheses;</li>
<li>Reformat code to adhere to a style guide;</li>
<li>Code templates for commonly used snippets of code.</li>
</ul>
</div>
<div id="possible-code-editors" class="section level3">
<h3>Possible Code Editors</h3>
<p>Here are a <em>few</em> programs to consider as potential candidates to write code in:</p>
<ul>
<li>Notepad/TextEdit: Featureless text editor</li>
<li><a href="https://en.wikipedia.org/wiki/Vi">vi</a>/<a href="https://en.wikipedia.org/wiki/Vim_(text_editor)">vim</a>/<a href="https://en.wikipedia.org/wiki/GNU_nano">nano</a>: CLI text editors</li>
<li><a href="https://notepad-plus-plus.org/">Notepad++</a>/<a href="https://www.sublimetext.com/">Sublime Text</a>: GUI editors that are cross-platform</li>
<li><a href="http://rstudio.com/ide/download">RStudio</a>: Integrated Developer Environment for R
<ul>
<li>Not great for languages <em>outside</em> of R.</li>
</ul></li>
<li><a href="https://macromates.com/">TextMate</a> (macOS): Highly versatile GUI text editor</li>
</ul>
<p>For the most part, examples within this course will done using either <code>RStudio</code> or the <code>vi</code> text editor.</p>
</div>
</div>
</div>
<div id="cli" class="section level1">
<h1>CLI</h1>
<div id="intro-shell" class="section level2">
<h2>Intro Shell</h2>
<div id="gnu-bash-unix-shell" class="section level3">
<h3>GNU Bash (Unix Shell)</h3>
<p><img src="img/gerwinski-gnu-head.png" width="3cm" style="display: block; margin: auto;" /></p>
<ul>
<li><code>GNU</code> is a free software environment that stands for “GNU’s Not Unix”
<ul>
<li>Recursive acronym</li>
<li>Logo is a gnu head (see above)</li>
</ul></li>
<li><code>Bourne-Again</code> Shell (<code>bash</code>) written by <strong>Brian Fox</strong> for the <a href="https://www.gnu.org/gnu/gnu-history.en.html">GNU Project</a>
<ul>
<li>Used on most Linux operating systems and on macOS.</li>
<li>Released in 1989</li>
</ul></li>
</ul>
</div>
<div id="accessing-bash-in-rstudio" class="section level3">
<h3>Accessing <code>bash</code> in <em>RStudio</em></h3>
<ul>
<li>By default, this is included in RStudio:
<ul>
<li><code>Tools</code> <span class="math inline">\(\Rightarrow\)</span> <code>Shell...</code></li>
</ul></li>
</ul>
<p><img src="img/access_shell.png" width="4cm" style="display: block; margin: auto;" /></p>
<ul>
<li><strong>Note:</strong> This may not be the case on Windows as you may only receive the command line prompt.</li>
</ul>
</div>
<div id="grab-a-copy-of-bash" class="section level3">
<h3>Grab a copy of <code>bash</code></h3>
<ul>
<li>If on Windows, please install the <strong><a href="https://git-scm.com/downloads"><code>git bash</code></a></strong> shell.
<ul>
<li>This outside of the <code>GitHub Desktop</code>.</li>
</ul></li>
<li>In addition, Windows users may want to emulate shell in more depth with:
<ul>
<li><code>cygwin</code> (<a href="http://thecoatlessprofessor.com/programming/installing-amazon-web-services-command-line-interface-aws-cli-for-windows-os-x-and-linux-2/">instructions</a> skip over the AWS parts); or</li>
<li>Bash on Windows / Windows Linux Subsystems (Windows 10 Required) (<a href="https://msdn.microsoft.com/en-us/commandline/wsl/install_guide">instructions</a>)</li>
</ul></li>
</ul>
</div>
<div id="bash-shell" class="section level3">
<h3>Bash Shell</h3>
<p>The bash shell looks like so:</p>
<p><img src="img/bourne_shell.png" width="15cm" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="file-system" class="section level2">
<h2>File System</h2>
<div id="bash-prompt" class="section level3">
<h3>Bash Prompt</h3>
<p>When logged into <code>bash</code> it is traditional to see on the left hand side:</p>
<pre class="bash"><code>[username@hostname:directory]$</code></pre>
<p>In my case, I have:</p>
<pre class="bash"><code>[balamut2@golubh3:~]$</code></pre>
<ul>
<li>The <code>~</code> means “home directory” or <code>/home/username</code></li>
</ul>
</div>
<div id="directory-structure" class="section level3">
<h3>Directory Structure</h3>
<p>Traditional directory structure on <em>Linux</em> is given as:</p>
<embed src="img/tikz/directory_structure.pdf" width="2.5cm" style="display: block; margin: auto;" type="application/pdf" />
<p>Each operating system has a different location for the user <em>home</em> directory</p>
<ul>
<li>Windows: <code>C:/Users/balamut2</code>
<ul>
<li>Cygwin: <code>/cygdrive/c/Users/balamut2/</code> or WSL: <code>/mnt/c/Users/balamut2/</code></li>
</ul></li>
<li>macOS: <code>/Users/balamut2</code></li>
</ul>
</div>
<div id="path-structure" class="section level3">
<h3>Path Structure</h3>
<p>There are two forms of path structures you may encounter:</p>
<ul>
<li><p><strong>Fixed</strong> or <strong>Absolute</strong>: Specifying the path from the root (<code>/</code>) directory</p>
<pre><code>C:/Users/James/Hypno/Toad.R
/etc/Renviron.site
/Users/James/URA/reports/summary.docx</code></pre></li>
<li><p><strong>Relative</strong>: Resolve from the present working directory location</p>
<pre><code>Hypno/Toad.R
Renviron.site
URA/reports/summary.docx</code></pre></li>
</ul>
<p>The <em>best</em> path structure to use is <strong>Relative</strong>.</p>
<ol style="list-style-type: decimal">
<li>Why is relative the best?</li>
<li>What kind of path is <code>~/Documents/orange.txt</code>?</li>
</ol>
</div>
<div id="special-file-system-directories" class="section level3">
<h3>Special File System Directories</h3>
<p>There are two special file system directory names available in <strong>every</strong> directory and program.</p>
<ul>
<li><code>.</code> (period): The present directory.</li>
<li><code>..</code> (two periods): The parent directory.</li>
</ul>
<p>These special symbols provide great flexibility for <em>relative</em> paths.</p>
</div>
</div>
<div id="using-commands" class="section level2">
<h2>Using Commands</h2>
<div id="unix-prompt-commands" class="section level3">
<h3>Unix Prompt commands</h3>
<ul>
<li><strong>Syntax:</strong> <code>command [option] [source file(s)] [target file]</code>
<ul>
<li>Options often have the <code>-x</code> or <code>--xxx</code> format</li>
<li>Use <code>Tab</code> to autocomplete source file / target file name.</li>
</ul></li>
</ul>
</div>
<div id="advanced-unix-command-usage" class="section level3">
<h3>Advanced Unix Command Usage</h3>
<p><strong>Basics of the Unix Philosophy</strong></p>
<blockquote>
<p>Rule of Modularity: Write simple parts connected by clean interfaces.</p>
<p>— <a href="http://www.catb.org/esr/writings/taoup/html/ch01s06.html#id2877537">Eric Steven Raymond (The Art of Unix Programming)</a></p>
</blockquote>
<p>Each command shown next is meant to address a <em>specific</em> need.</p>
<p>Needs are brought together by a series of operators:</p>
<ul>
<li>Chain operations together via pipe operator <code>|</code></li>
<li>Execute the next command <em>if</em> the previous one succeeds using <code>&amp;&amp;</code></li>
<li>Redirection operators <code>&lt;</code>, <code>&gt;</code>, <code>&gt;&gt;</code>, <code>2&gt;</code> for input/output/error</li>
</ul>
</div>
<div id="first-unix-command" class="section level3">
<h3>First Unix Command</h3>
<p>Ask the computer, “Who am I?”</p>
<pre class="bash"><code>whoami</code></pre>
<pre><code>## agentxyz</code></pre>
<p>Provides the name of the user presently logged into the shell.</p>
</div>
</div>
<div id="directory-commands" class="section level2">
<h2>Directory Commands</h2>
<div id="useful-unix-commands---directories" class="section level3">
<h3>Useful Unix Commands - Directories</h3>
<table>
<thead>
<tr class="header">
<th>Command</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>pwd</code></td>
<td>Print working directory</td>
<td><code>pwd</code></td>
</tr>
<tr class="even">
<td><code>cd</code></td>
<td>Change directory</td>
<td><code>cd dir/new</code> <strong>or</strong> <code>cd ../</code></td>
</tr>
<tr class="odd">
<td><code>ls</code></td>
<td>List files</td>
<td><code>ls ~/</code> <strong>or</strong> <code>ls -la new/</code></td>
</tr>
<tr class="even">
<td><code>mkdir</code></td>
<td>Make directory</td>
<td><code>mkdir test</code> <strong>or</strong> <code>mkdir -p mr/r</code></td>
</tr>
<tr class="odd">
<td><code>rmdir</code></td>
<td>Remove directory</td>
<td><code>rmdir test</code> <strong>or</strong> <code>rmdir -p mr/r</code></td>
</tr>
</tbody>
</table>
</div>
<div id="unix-commands---pwd---print-working-directory" class="section level3">
<h3>Unix Commands - <code>pwd</code> - Print working directory</h3>
<pre class="bash"><code>pwd</code></pre>
<pre><code>## /Users/agentxyz/Google Drive/Courses/STAT 385/su2017/content/assets/lec02</code></pre>
</div>
<div id="unix-commands---cd---change-directory" class="section level3">
<h3>Unix Commands - <code>cd</code> - Change directory</h3>
<pre class="bash"><code>cd ../ &amp;&amp; pwd # Go one directory up</code></pre>
<pre><code>## /Users/agentxyz/Google Drive/Courses/STAT 385/su2017/content/assets</code></pre>
<pre class="bash"><code>cd ~/ &amp;&amp; pwd # Go to base directory</code></pre>
<pre><code>## /Users/agentxyz</code></pre>
</div>
<div id="unix-commands---ls---list-files" class="section level3">
<h3>Unix Commands - <code>ls</code> - List Files</h3>
<pre class="bash"><code>ls ../               # List files</code></pre>
<pre><code>## lec01
## lec02</code></pre>
<pre class="bash"><code>ls -l ../ | grep lec01 # List files with lec01</code></pre>
<pre><code>## drwxr-xr-x  24 agentxyz  admin  816 Jun 13 14:55 lec01</code></pre>
</div>
<div id="unix-commands---mkdir---make-directory" class="section level3">
<h3>Unix Commands - <code>mkdir</code> - Make Directory</h3>
<ul>
<li>Use <code>mkdir</code> to create a new folder for a project.</li>
</ul>
<pre class="bash"><code>mkdir test       # Make directory in `pwd`</code></pre>
<ul>
<li>Adding the <code>-p</code> option allows for <strong>all folders to be made</strong> if not already present.</li>
</ul>
<pre class="bash"><code>mkdir -p new/dir # The -p makes all directories</code></pre>
</div>
<div id="unix-commands---rmdir---remove-directory" class="section level3">
<h3>Unix Commands - <code>rmdir</code> - Remove directory</h3>
<ul>
<li>Use <code>rmdir</code> to remove or delete a folder.</li>
</ul>
<pre class="bash"><code>rmdir test       # Remove directory</code></pre>
<ul>
<li>Including the <code>-p</code> option allows for all directory structures to be <strong>removed</strong>.</li>
</ul>
<pre class="bash"><code>rmdir -p new/dir # The -p recursively removes</code></pre>
</div>
</div>
<div id="file-commands" class="section level2">
<h2>File Commands</h2>
<div id="useful-unix-commands---file-manipulation" class="section level3">
<h3>Useful Unix Commands - File Manipulation</h3>
<table>
<thead>
<tr class="header">
<th>Command</th>
<th>Description</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>touch</code></td>
<td>Make file</td>
<td><code>touch file.R</code></td>
</tr>
<tr class="even">
<td><code>vi</code></td>
<td>Open text editor</td>
<td><code>vi file.R</code></td>
</tr>
<tr class="odd">
<td><code>cat</code></td>
<td>Display <strong>All</strong> of file</td>
<td><code>cat file.R</code></td>
</tr>
<tr class="even">
<td><code>chmod</code></td>
<td>Set file permissions</td>
<td><code>chmod 744 file.R</code></td>
</tr>
<tr class="odd">
<td><code>head</code></td>
<td>Display <em>first</em> lines</td>
<td><code>head file.R</code></td>
</tr>
<tr class="even">
<td><code>tail</code></td>
<td>Display <em>last</em> lines</td>
<td><code>tail file.R</code></td>
</tr>
<tr class="odd">
<td><code>cp</code></td>
<td>Copy file from x to y</td>
<td><code>cp file1.R file2.R</code></td>
</tr>
<tr class="even">
<td><code>mv</code></td>
<td>Move (rename) file</td>
<td><code>mv file_old.R file_new.R</code></td>
</tr>
<tr class="odd">
<td><code>rm</code></td>
<td>Remove file</td>
<td><code>rm file.R</code> <strong>or</strong> <code>rm file*.R</code></td>
</tr>
<tr class="even">
<td><code>echo</code></td>
<td>Display terminal variable</td>
<td><code>echo $HOME</code></td>
</tr>
<tr class="odd">
<td><code>grep</code></td>
<td>Regex find</td>
<td><code>grep &quot;toad&quot;</code></td>
</tr>
</tbody>
</table>
</div>
<div id="unix-commands---touch---touch" class="section level3">
<h3>Unix Commands - <code>touch</code> - Touch</h3>
<pre class="bash"><code>ls -l | grep &quot;file.R&quot; # File does not exist

# empty return</code></pre>
<pre class="bash"><code>touch file.R          # Create File

ls -l | grep &quot;file.R&quot; # Check for existence</code></pre>
<pre><code>## -rw-r--r--  1 agentxyz  admin        0 Jun 13 14:56 file.R</code></pre>
</div>
<div id="unix-commands---search-operators" class="section level3">
<h3>Unix Commands - Search operators</h3>
<p>Unix has the advantage of using regular expressions, regex, which we’ll talk more about later, to search for files. Two operators to be cognisant about are:</p>
<ul>
<li><code>*</code> - matches zero or more characters</li>
<li><code>?</code> - matches any <em>one</em> character</li>
</ul>
<pre class="bash"><code>ls -l *.R # Obtain any R file in the directory.</code></pre>
<pre><code>## -rw-r--r--  1 agentxyz  admin    0 Jun 13 14:56 file.R
## -rw-r--r--  1 agentxyz  admin    7 Jun 13 11:58 file_overwrite.R
## -rw-------  1 agentxyz  admin  901 Jun 13 11:57 r_lec2.R</code></pre>
<pre class="bash"><code>ls -l lec??.Rmd # Obtain any lec&lt;xx&gt;.Rmd file in the directory</code></pre>
<pre><code>## -rw-------  1 agentxyz  admin  22566 Jun 13 14:38 lec02.Rmd</code></pre>
</div>
<div id="unix-commands---vi---file-editor-in-terminal" class="section level3">
<h3>Unix Commands - <code>vi</code> - File Editor in Terminal</h3>
<pre class="bash"><code>vi file.R # Open file</code></pre>
<ul>
<li>Navigating <code>vi</code>
<ul>
<li>Press <code>I</code> to insert new characters.</li>
<li>To save changes, press <code>Esc</code> and type <code>:w</code></li>
<li>To exit, press <code>Esc</code> and type <code>:q!</code></li>
<li>To do both at the same time use <code>:wq!</code></li>
</ul></li>
<li>Resources:
<ul>
<li><strong><a href="http://www.openvim.com/tutorial.html">Interactive <code>vim</code> tutorial</a></strong></li>
<li>Try the <strong><a href="http://vim-adventures.com/">vim game</a></strong> for practice</li>
<li><strong><a href="http://vim.rtorr.com/"><code>vi</code> Reference guide</a></strong></li>
</ul></li>
</ul>
<p><strong>Note:</strong> <code>vim</code> is the sucessor to <code>vi</code> and still is applicable.</p>
</div>
<div id="unix-commands---using-redirection-to-write-to-file" class="section level3">
<h3>Unix Commands - Using redirection to write to file</h3>
<p>Redirecting and <em>appending</em> output onto a file <em>avoids</em> the need for entering into an editor.</p>
<pre class="bash"><code>echo &quot;line 1&quot; &gt;&gt; file.R
echo &quot;line 2&quot; &gt;&gt; file.R</code></pre>
</div>
<div id="unix-commands---cat---see-file-contents" class="section level3">
<h3>Unix Commands - <code>cat</code> - See file contents</h3>
<pre class="bash"><code>cat file.R               # Show file contents</code></pre>
<pre><code>## line 1
## line 2</code></pre>
</div>
<div id="unix-commands---using-redirection-to-write-to-file-1" class="section level3">
<h3>Unix Commands - Using redirection to write to file</h3>
<p>Using <strong><a href="https://en.wikipedia.org/wiki/Here_document"><code>heredoc format</code></a></strong> enables the ability to write multiple lines simultaneously to the file.</p>
<pre class="bash"><code>cat &lt;&lt; EOF &gt;&gt; file.R
line 3
line 4
EOF</code></pre>
<p>What values are currently held by <code>file.R</code>?</p>
</div>
<div id="unix-commands---redirection-redux-redux" class="section level3">
<h3>Unix Commands - Redirection Redux Redux</h3>
<p>Previously, we appended <em>onto</em> the file. In this case, the file will be overriden each time we write to it.</p>
<pre class="bash"><code>cp file.R file_overwrite.R        # Make a copy of file.R
echo &quot;line 1&quot; &gt; file_overwrite.R
echo &quot;line 2&quot; &gt; file_overwrite.R</code></pre>
<ul>
<li>What is the initial state of <code>file_overwrite.R</code>?</li>
<li>After the script runs, how does <code>file_overwrite.R</code> change?</li>
</ul>
</div>
<div id="unix-commands---summary-of-redirection" class="section level3">
<h3>Unix Commands - Summary of Redirection</h3>
<ul>
<li>Note the following:
<ul>
<li><code>&gt;</code> outputs <em>and</em> overwrites the file</li>
<li><code>&gt;&gt;</code> appends to a file</li>
<li><code>&lt;</code> reads input from file.</li>
</ul></li>
</ul>
</div>
</div>
<div id="file-permissions" class="section level2">
<h2>File Permissions</h2>
<div id="unix-commands---file-permissions" class="section level3">
<h3>Unix Commands - File Permissions</h3>
<ul>
<li>File permissions are a bit complicated but a necessary force.</li>
<li>File permissions indicate whether someone can:</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
<th>Value</th>
<th>Character</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Execute</strong></td>
<td>Run a file</td>
<td>1</td>
<td><code>x</code></td>
</tr>
<tr class="even">
<td><strong>Write</strong></td>
<td>Save to a file</td>
<td>2</td>
<td><code>w</code></td>
</tr>
<tr class="odd">
<td><strong>Read</strong></td>
<td>See what a file contains.</td>
<td>4</td>
<td><code>r</code></td>
</tr>
</tbody>
</table>
</div>
<div id="unix-commands---file-permissions-for-user-type" class="section level3">
<h3>Unix Commands - File Permissions for User Type</h3>
<ul>
<li>Each type can be added together to customize the access level
<ul>
<li>For example: 7 would give all permissions, 5 gives only execute and read.</li>
</ul></li>
<li>There are <strong>three</strong> types of permissions that can be assigned:</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
<th>Position</th>
<th>Character</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>User</strong></td>
<td>Owner or user</td>
<td>First</td>
<td><code>u</code></td>
</tr>
<tr class="even">
<td><strong>Group</strong></td>
<td>Those that belong to a group</td>
<td>Second</td>
<td><code>g</code></td>
</tr>
<tr class="odd">
<td><strong>World</strong></td>
<td>Everyone.</td>
<td>Third</td>
<td><code>a</code></td>
</tr>
</tbody>
</table>
</div>
<div id="unix-commands---chmod---set-file-permissions" class="section level3">
<h3>Unix Commands - <code>chmod</code> - Set File Permissions</h3>
<pre class="bash"><code>chmod 777 file.R      # User, Group, and World
                      # can execute, write, read

chmod 755 file.R      # Only User can execute, write, read
                      # Group and World can execute and read

chmod u+wxr file.R    # Only User can read, write, access</code></pre>
</div>
<div id="unix-commands---head---see-top-content" class="section level3">
<h3>Unix Commands - <code>head</code> - See top content</h3>
<pre class="bash"><code>head -2 file.R   # Show top 2 lines</code></pre>
<pre><code>## line 1
## line 2</code></pre>
<ul>
<li>The <code>-2</code> limits it to the <strong>top</strong> 2 observations</li>
</ul>
</div>
<div id="unix-commands---tail---see-bottom-content" class="section level3">
<h3>Unix Commands - <code>tail</code> - See bottom content</h3>
<pre class="bash"><code>tail -1 file.R   # Show last line</code></pre>
<pre><code>## line 4</code></pre>
<ul>
<li>The <code>-1</code> limits it to the <strong>last</strong> observation</li>
</ul>
</div>
<div id="unix-commands---cp---copy-file" class="section level3">
<h3>Unix Commands - <code>cp</code> - Copy File</h3>
<pre class="bash"><code>cp file.R file.R.bck # Create a back up</code></pre>
<pre class="bash"><code>ls -l | grep &quot;.bck&quot;  # Check that it is there</code></pre>
<pre><code>## -rw-r--r--  1 agentxyz  admin       28 Jun 13 14:56 file.R.bck</code></pre>
<ul>
<li>It is good practice to create <code>.bck</code> up files</li>
<li>This is especially the case if you are working with configuration files (e.g. <code>.conf</code>)</li>
</ul>
</div>
<div id="unix-commands---mv---move-file" class="section level3">
<h3>Unix Commands - <code>mv</code> - Move File</h3>
<pre class="bash"><code>mv file.R.bck file_in_use.R        # Rename file</code></pre>
<pre class="bash"><code>mv file_in_use.R img/file_in_use.R # Move to new directory</code></pre>
<ul>
<li>Moving a file is the <em>only</em> way to rename.</li>
</ul>
</div>
<div id="unix-commands---rm---remove-file" class="section level3">
<h3>Unix Commands - <code>rm</code> - Remove file</h3>
<pre class="bash"><code>rm file.R            # Remove file</code></pre>
<pre class="bash"><code># Remove file in different directory
rm img/file_in_use.R </code></pre>
</div>
<div id="unix-commands---echo---display-bash-variables" class="section level3">
<h3>Unix Commands - <code>echo</code> - Display <code>bash</code> variables</h3>
<pre class="bash"><code>samplevar=&quot;Hi stat385&quot;    # Create a variable

echo $samplevar           # Print variable</code></pre>
<pre><code>## Hi stat385</code></pre>
<p>Note the following:</p>
<ul>
<li>No space between variable, assignment operator, and value.</li>
<li>The use of <code>$</code> to refer to the variable in <code>echo</code>.</li>
</ul>
</div>
</div>
</div>
